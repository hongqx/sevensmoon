<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-type" content="text/html; charset=uft-8">
	<title>七夕主题动画效果</title>
	<link rel="stylesheet" type="text/css" href="css/style.css">
  <link rel="stylesheet" type="text/css" href="css/pageA.css">
  <link rel="stylesheet" type="text/css" href="css/pageB.css">
  <link rel="stylesheet" type="text/css" href="css/pageC.css">
	<style type="text/css">

	</style>
</head>
<body>
	<div id="content">
		<ul class="content-wrap">
			<li class="page">
				<div class="a_background">
					<div class="a_background_top"></div>
					<div class="a_background_middle"></div>
					<div class="a_background_bottom"></div>
				</div>
				<div class="cloudArea">
					<div class="cloud cloud1"></div>
					<div class="cloud cloud2"></div>
				</div>
				<!-- 太阳 -->
        <div id="sun"></div>
			</li>
			<li class="page">
          <div class="b_background"></div> 
          <div class="b_background_preload"></div>
          <div class="shop">
              <div class="door">
                <div class="door-left"></div>
                <div class="door-right"></div>
                <div class="lamp"></div>
              </div>
           </div> 
           <div class="bird"></div> 
      </li>
			<li class="page">
        <div class="c_background">
             <div class="c_background_top"></div>
             <div class="c_background_middle"></div>
             <div class="c_background_bottom"></div>
        </div> 
        <div class="girl"></div>
        <div class="bridge-bottom">
            <div class="water">
              <div id="water1" class="water_1"></div>
              <div id="water2" class="water_2"></div>
              <div id="water3" class="water_3"></div>
              <div id="water4" class="water_4"></div>
            </div>
          </div> 
          <!--星星--> 
          <ul class="stars">
            <li class="stars1"></li>
            <li class="stars2"></li>
            <li class="stars3"></li>
            <li class="stars4"></li>
            <li class="stars5"></li>
            <li class="stars6"></li>
          </ul>
         
      </li>
		</ul>
		<div class="charector" id="boy"></div>
    <!--飘花-->
    <div id="snowflake"></div>
		<div class="button">
		   <button>开始</button>
		   <button>暂停</button>
	    </div>
	</div>
	<script src="http://libs.baidu.com/jquery/1.9.1/jquery.js"></script>
  <script type="text/javascript" src="http://img.mukewang.com/down/55ac9ea30001ace700000000.js"></script>
  <script type="text/javascript" src="js/swipe.js"></script>
  <script type="text/javascript" src="js/qixi.js"></script>
  <script type="text/javascript">
	     $(function(){
             var boy = BoyWalk();
             function startRun(){
                  $("#sun").addClass("rotation");
                  $(".cloud1").addClass("cloud1Anim");
                  $(".cloud2").addClass("cloud2Anim");
                  boy.walkTo(6000,0.6).then(function(){

                      scrollTo(6500, 1);
                      return boy.walkTo(6500,0.5);

                  }).then(function(){

                      boy.stopWalk();

                  }).then(function(){

                      return openDoor();

                  }).then(function(){

                      lamp.bright();

                  }).then(function(){
                      //走进商店
                      return boy.toShop(2000);

                  }).then(function(){

                      return boy.getFlower();

                  }).then(function(){

                      bird.fly();

                  }).then(function(){

                      return boy.outShop(2000);

                  }).then(function(){
                        
                     return shutDoor();

                  }).then(function(){
                     lamp.dark();
                  }).then(function(){
                       
                      girl.setOffset();
                      scrollTo(6500,2);
                      return  boy.walkTo(6500,0.15);

                  }).then(function(){

                      return boy.walkTo(1500,0.25,(bridgeY - girl.getHeight())/container.height());
                  }).then(function(){
                      var proportionX = (girl.getOffset().left - boy.getWidth() + girl.getWidth() / 5) / container.width();
                      return boy.walkTo(1500, proportionX);
                  }).then(function(){

                      boy.resetOriginal();

                  }).then(function(){
                      //添加转身动作
                      setTimeout(function(){
                        girl.rotate();
                        boy.rotate();
                      },1000);
                  }).then(function(){
                     snowflake();
                  });
             }
        $("button:first").click(function(){
           startRun();
        });
	     });        
     </script>
     
</body>
</html>